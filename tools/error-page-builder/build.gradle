group 'net.corda'
version '4.5-SNAPSHOT'

sourceCompatibility = 1.8
apply plugin: 'kotlin'
apply plugin: 'com.github.johnrengelman.shadow'

repositories {
    mavenCentral()
}

dependencies {
    implementation project(":common-logging")
    implementation project(":tools:cliutils")
    implementation "info.picocli:picocli:$picocli_version"
    testCompile group: 'junit', name: 'junit', version: '4.12'

    implementation "org.apache.logging.log4j:log4j-slf4j-impl:$log4j_version"
}

processResources {
    from file("$rootDir/config/dev/log4j2.xml")
}

jar {
    enabled = false
    classifier = 'ignore'
}

shadowJar {
    baseName = "corda-tools-error-page-builder"
    manifest {
        attributes(
                'Main-Class': "net.corda.errorPageBuilder.ErrorPageBuilderKt"
        )
    }
}