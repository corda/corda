<HTML>
<HEAD>
<title>ServiceHubInternal.registerProtocolInitiator - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.node.services.api</a>&nbsp;/&nbsp;<a href="index.html">ServiceHubInternal</a>&nbsp;/&nbsp;<a href=".">registerProtocolInitiator</a><br/>
<br/>
<h1>registerProtocolInitiator</h1>
<a name="com.r3corda.node.services.api.ServiceHubInternal$registerProtocolInitiator(kotlin.reflect.KClass((kotlin.Any)), kotlin.Function1((com.r3corda.core.crypto.Party, com.r3corda.core.protocols.ProtocolLogic((kotlin.Any)))))"></a>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">registerProtocolInitiator</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.ServiceHubInternal$registerProtocolInitiator(kotlin.reflect.KClass((kotlin.Any)), kotlin.Function1((com.r3corda.core.crypto.Party, com.r3corda.core.protocols.ProtocolLogic((kotlin.Any)))))/markerClass">markerClass</span><span class="symbol">:</span>&nbsp;<span class="identifier">KClass</span><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.ServiceHubInternal$registerProtocolInitiator(kotlin.reflect.KClass((kotlin.Any)), kotlin.Function1((com.r3corda.core.crypto.Party, com.r3corda.core.protocols.ProtocolLogic((kotlin.Any)))))/protocolFactory">protocolFactory</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../com.r3corda.core.protocols/-protocol-logic/index.html"><span class="identifier">ProtocolLogic</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<p>Register the protocol factory we wish to use when a initiating party attempts to communicate with us. The
registration is done against a marker <a href="#">KClass</a> which is sent in the session handshake by the other party. If this
marker class has been registered then the corresponding factory will be used to create the protocol which will
communicate with the other side. If there is no mapping then the session attempt is rejected.</p>
<h3>Parameters</h3>
<a name="markerClass"></a>
<code>markerClass</code> - The marker <a href="#">KClass</a> present in a session initiation attempt, which is a 1:1 mapping to a <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html">Class</a>
using the ::class construct. Conventionally this is a <a href="../../com.r3corda.core.protocols/-protocol-logic/index.html">ProtocolLogic</a> subclass, however any class can
be used, with the default being the class of the initiating protocol. This enables the registration to be of the
form: registerProtocolInitiator(InitiatorProtocol::class, ::InitiatedProtocol)<br/>
<br/>
<a name="protocolFactory"></a>
<code>protocolFactory</code> - The protocol factory generating the initiated protocol.<br/>
<br/>
<br/>
</BODY>
</HTML>
