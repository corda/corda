{"version":3,"file":"animation_group_player.js","sourceRoot":"","sources":["../../../../../modules/@angular/core/src/animation/animation_group_player.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isPresent, scheduleMicroTask} from '../facade/lang';\nimport {Math} from '../facade/math';\n\nimport {AnimationPlayer} from './animation_player';\n\nexport class AnimationGroupPlayer implements AnimationPlayer {\n  private _subscriptions: Function[] = [];\n  private _finished = false;\n  public parentPlayer: AnimationPlayer = null;\n\n  constructor(private _players: AnimationPlayer[]) {\n    var count = 0;\n    var total = this._players.length;\n    if (total == 0) {\n      scheduleMicroTask(() => this._onFinish());\n    } else {\n      this._players.forEach(player => {\n        player.parentPlayer = this;\n        player.onDone(() => {\n          if (++count >= total) {\n            this._onFinish();\n          }\n        });\n      });\n    }\n  }\n\n  private _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      if (!isPresent(this.parentPlayer)) {\n        this.destroy();\n      }\n      this._subscriptions.forEach(subscription => subscription());\n      this._subscriptions = [];\n    }\n  }\n\n  onDone(fn: Function): void { this._subscriptions.push(fn); }\n\n  play() { this._players.forEach(player => player.play()); }\n\n  pause(): void { this._players.forEach(player => player.pause()); }\n\n  restart(): void { this._players.forEach(player => player.restart()); }\n\n  finish(): void {\n    this._onFinish();\n    this._players.forEach(player => player.finish());\n  }\n\n  destroy(): void {\n    this._onFinish();\n    this._players.forEach(player => player.destroy());\n  }\n\n  reset(): void { this._players.forEach(player => player.reset()); }\n\n  setPosition(p: any /** TODO #9100 */): void {\n    this._players.forEach(player => { player.setPosition(p); });\n  }\n\n  getPosition(): number {\n    var min = 0;\n    this._players.forEach(player => {\n      var p = player.getPosition();\n      min = Math.min(p, min);\n    });\n    return min;\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}