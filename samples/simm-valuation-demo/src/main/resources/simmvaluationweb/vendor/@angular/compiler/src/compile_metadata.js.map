{"version":3,"file":"compile_metadata.js","sourceRoot":"","sources":["../../../../modules/@angular/compiler/src/compile_metadata.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ChangeDetectionStrategy, ViewEncapsulation} from '@angular/core';\n\nimport {CHANGE_DETECTION_STRATEGY_VALUES, LIFECYCLE_HOOKS_VALUES, LifecycleHooks, VIEW_ENCAPSULATION_VALUES, reflector} from '../core_private';\nimport {ListWrapper, StringMapWrapper} from '../src/facade/collection';\nimport {BaseException, unimplemented} from '../src/facade/exceptions';\nimport {NumberWrapper, RegExpWrapper, Type, isArray, isBlank, isBoolean, isNumber, isPresent, isString, normalizeBlank, normalizeBool, serializeEnum} from '../src/facade/lang';\n\nimport {CssSelector} from './selector';\nimport {getUrlScheme} from './url_resolver';\nimport {sanitizeIdentifier, splitAtColon} from './util';\n\n\n// group 2: \"event\" from \"(event)\"\nvar HOST_REG_EXP = /^(?:(?:\\[([^\\]]+)\\])|(?:\\(([^\\)]+)\\)))$/g;\n\nexport abstract class CompileMetadataWithIdentifier {\n  abstract toJson(): {[key: string]: any};\n\n  get identifier(): CompileIdentifierMetadata { return <CompileIdentifierMetadata>unimplemented(); }\n}\n\nexport abstract class CompileMetadataWithType extends CompileMetadataWithIdentifier {\n  abstract toJson(): {[key: string]: any};\n\n  get type(): CompileTypeMetadata { return <CompileTypeMetadata>unimplemented(); }\n\n  get identifier(): CompileIdentifierMetadata { return <CompileIdentifierMetadata>unimplemented(); }\n}\n\nexport function metadataFromJson(data: {[key: string]: any}): any {\n  return (_COMPILE_METADATA_FROM_JSON as any)[data['class']](data);\n}\n\nexport class CompileAnimationEntryMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationEntryMetadata {\n    var value = data['value'];\n    var defs = _arrayFromJson(value['definitions'], metadataFromJson);\n    return new CompileAnimationEntryMetadata(value['name'], defs);\n  }\n\n  constructor(\n      public name: string = null, public definitions: CompileAnimationStateMetadata[] = null) {}\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'AnimationEntryMetadata',\n      'value': {'name': this.name, 'definitions': _arrayToJson(this.definitions)}\n    };\n  }\n}\n\nexport abstract class CompileAnimationStateMetadata {}\n\nexport class CompileAnimationStateDeclarationMetadata extends CompileAnimationStateMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationStateDeclarationMetadata {\n    var value = data['value'];\n    var styles = _objFromJson(value['styles'], metadataFromJson);\n    return new CompileAnimationStateDeclarationMetadata(value['stateNameExpr'], styles);\n  }\n\n  constructor(public stateNameExpr: string, public styles: CompileAnimationStyleMetadata) {\n    super();\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'AnimationStateDeclarationMetadata',\n      'value': {'stateNameExpr': this.stateNameExpr, 'styles': this.styles.toJson()}\n    };\n  }\n}\n\nexport class CompileAnimationStateTransitionMetadata extends CompileAnimationStateMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationStateTransitionMetadata {\n    var value = data['value'];\n    var steps = _objFromJson(value['steps'], metadataFromJson);\n    return new CompileAnimationStateTransitionMetadata(value['stateChangeExpr'], steps);\n  }\n\n  constructor(public stateChangeExpr: string, public steps: CompileAnimationMetadata) { super(); }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'AnimationStateTransitionMetadata',\n      'value': {'stateChangeExpr': this.stateChangeExpr, 'steps': this.steps.toJson()}\n    };\n  }\n}\n\nexport abstract class CompileAnimationMetadata { abstract toJson(): {[key: string]: any}; }\n\nexport class CompileAnimationKeyframesSequenceMetadata extends CompileAnimationMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationKeyframesSequenceMetadata {\n    var steps = _arrayFromJson(data['value'], metadataFromJson);\n    return new CompileAnimationKeyframesSequenceMetadata(<CompileAnimationStyleMetadata[]>steps);\n  }\n\n  constructor(public steps: CompileAnimationStyleMetadata[] = []) { super(); }\n\n  toJson(): {[key: string]: any} {\n    return {'class': 'AnimationKeyframesSequenceMetadata', 'value': _arrayToJson(this.steps)};\n  }\n}\n\nexport class CompileAnimationStyleMetadata extends CompileAnimationMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationStyleMetadata {\n    var value = data['value'];\n    var offsetVal = value['offset'];\n    var offset = isPresent(offsetVal) ? NumberWrapper.parseFloat(offsetVal) : null;\n    var styles = <Array<string|{[key: string]: string | number}>>value['styles'];\n    return new CompileAnimationStyleMetadata(offset, styles);\n  }\n\n  constructor(\n      public offset: number, public styles: Array<string|{[key: string]: string | number}> = null) {\n    super();\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'AnimationStyleMetadata',\n      'value': {'offset': this.offset, 'styles': this.styles}\n    };\n  }\n}\n\nexport class CompileAnimationAnimateMetadata extends CompileAnimationMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationAnimateMetadata {\n    var value = data['value'];\n    var timings = <string|number>value['timings'];\n    var styles = _objFromJson(value['styles'], metadataFromJson);\n    return new CompileAnimationAnimateMetadata(timings, styles);\n  }\n\n  constructor(\n      public timings: string|number = 0, public styles: CompileAnimationStyleMetadata|\n      CompileAnimationKeyframesSequenceMetadata = null) {\n    super();\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'AnimationAnimateMetadata',\n      'value': {'timings': this.timings, 'styles': _objToJson(this.styles)}\n    };\n  }\n}\n\nexport abstract class CompileAnimationWithStepsMetadata extends CompileAnimationMetadata {\n  constructor(public steps: CompileAnimationMetadata[] = null) { super(); }\n}\n\nexport class CompileAnimationSequenceMetadata extends CompileAnimationWithStepsMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationSequenceMetadata {\n    var steps = _arrayFromJson(data['value'], metadataFromJson);\n    return new CompileAnimationSequenceMetadata(steps);\n  }\n\n  constructor(steps: CompileAnimationMetadata[] = null) { super(steps); }\n\n  toJson(): {[key: string]: any} {\n    return {'class': 'AnimationSequenceMetadata', 'value': _arrayToJson(this.steps)};\n  }\n}\n\nexport class CompileAnimationGroupMetadata extends CompileAnimationWithStepsMetadata {\n  static fromJson(data: {[key: string]: any}): CompileAnimationGroupMetadata {\n    var steps = _arrayFromJson(data['value'], metadataFromJson);\n    return new CompileAnimationGroupMetadata(steps);\n  }\n\n  constructor(steps: CompileAnimationMetadata[] = null) { super(steps); }\n\n  toJson(): {[key: string]: any} {\n    return {'class': 'AnimationGroupMetadata', 'value': _arrayToJson(this.steps)};\n  }\n}\n\nexport class CompileIdentifierMetadata implements CompileMetadataWithIdentifier {\n  runtime: any;\n  name: string;\n  prefix: string;\n  moduleUrl: string;\n  value: any;\n\n  constructor(\n      {runtime, name, moduleUrl, prefix, value}:\n          {runtime?: any, name?: string, moduleUrl?: string, prefix?: string, value?: any} = {}) {\n    this.runtime = runtime;\n    this.name = name;\n    this.prefix = prefix;\n    this.moduleUrl = moduleUrl;\n    this.value = value;\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileIdentifierMetadata {\n    let value = isArray(data['value']) ? _arrayFromJson(data['value'], metadataFromJson) :\n                                         _objFromJson(data['value'], metadataFromJson);\n    return new CompileIdentifierMetadata(\n        {name: data['name'], prefix: data['prefix'], moduleUrl: data['moduleUrl'], value: value});\n  }\n\n  toJson(): {[key: string]: any} {\n    let value = isArray(this.value) ? _arrayToJson(this.value) : _objToJson(this.value);\n    return {\n      // Note: Runtime type can't be serialized...\n      'class': 'Identifier',\n      'name': this.name,\n      'moduleUrl': this.moduleUrl,\n      'prefix': this.prefix,\n      'value': value\n    };\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this; }\n}\n\nexport class CompileDiDependencyMetadata {\n  isAttribute: boolean;\n  isSelf: boolean;\n  isHost: boolean;\n  isSkipSelf: boolean;\n  isOptional: boolean;\n  isValue: boolean;\n  query: CompileQueryMetadata;\n  viewQuery: CompileQueryMetadata;\n  token: CompileTokenMetadata;\n  value: any;\n\n  constructor(\n      {isAttribute, isSelf, isHost, isSkipSelf, isOptional, isValue, query, viewQuery, token,\n       value}: {\n        isAttribute?: boolean,\n        isSelf?: boolean,\n        isHost?: boolean,\n        isSkipSelf?: boolean,\n        isOptional?: boolean,\n        isValue?: boolean,\n        query?: CompileQueryMetadata,\n        viewQuery?: CompileQueryMetadata,\n        token?: CompileTokenMetadata,\n        value?: any\n      } = {}) {\n    this.isAttribute = normalizeBool(isAttribute);\n    this.isSelf = normalizeBool(isSelf);\n    this.isHost = normalizeBool(isHost);\n    this.isSkipSelf = normalizeBool(isSkipSelf);\n    this.isOptional = normalizeBool(isOptional);\n    this.isValue = normalizeBool(isValue);\n    this.query = query;\n    this.viewQuery = viewQuery;\n    this.token = token;\n    this.value = value;\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileDiDependencyMetadata {\n    return new CompileDiDependencyMetadata({\n      token: _objFromJson(data['token'], CompileTokenMetadata.fromJson),\n      query: _objFromJson(data['query'], CompileQueryMetadata.fromJson),\n      viewQuery: _objFromJson(data['viewQuery'], CompileQueryMetadata.fromJson),\n      value: data['value'],\n      isAttribute: data['isAttribute'],\n      isSelf: data['isSelf'],\n      isHost: data['isHost'],\n      isSkipSelf: data['isSkipSelf'],\n      isOptional: data['isOptional'],\n      isValue: data['isValue']\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'token': _objToJson(this.token),\n      'query': _objToJson(this.query),\n      'viewQuery': _objToJson(this.viewQuery),\n      'value': this.value,\n      'isAttribute': this.isAttribute,\n      'isSelf': this.isSelf,\n      'isHost': this.isHost,\n      'isSkipSelf': this.isSkipSelf,\n      'isOptional': this.isOptional,\n      'isValue': this.isValue\n    };\n  }\n}\n\nexport class CompileProviderMetadata {\n  token: CompileTokenMetadata;\n  useClass: CompileTypeMetadata;\n  useValue: any;\n  useExisting: CompileTokenMetadata;\n  useFactory: CompileFactoryMetadata;\n  deps: CompileDiDependencyMetadata[];\n  multi: boolean;\n\n  constructor({token, useClass, useValue, useExisting, useFactory, deps, multi}: {\n    token?: CompileTokenMetadata,\n    useClass?: CompileTypeMetadata,\n    useValue?: any,\n    useExisting?: CompileTokenMetadata,\n    useFactory?: CompileFactoryMetadata,\n    deps?: CompileDiDependencyMetadata[],\n    multi?: boolean\n  }) {\n    this.token = token;\n    this.useClass = useClass;\n    this.useValue = useValue;\n    this.useExisting = useExisting;\n    this.useFactory = useFactory;\n    this.deps = normalizeBlank(deps);\n    this.multi = normalizeBool(multi);\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileProviderMetadata {\n    return new CompileProviderMetadata({\n      token: _objFromJson(data['token'], CompileTokenMetadata.fromJson),\n      useClass: _objFromJson(data['useClass'], CompileTypeMetadata.fromJson),\n      useExisting: _objFromJson(data['useExisting'], CompileTokenMetadata.fromJson),\n      useValue: _objFromJson(data['useValue'], CompileIdentifierMetadata.fromJson),\n      useFactory: _objFromJson(data['useFactory'], CompileFactoryMetadata.fromJson),\n      multi: data['multi'],\n      deps: _arrayFromJson(data['deps'], CompileDiDependencyMetadata.fromJson)\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      // Note: Runtime type can't be serialized...\n      'class': 'Provider',\n      'token': _objToJson(this.token),\n      'useClass': _objToJson(this.useClass),\n      'useExisting': _objToJson(this.useExisting),\n      'useValue': _objToJson(this.useValue),\n      'useFactory': _objToJson(this.useFactory),\n      'multi': this.multi,\n      'deps': _arrayToJson(this.deps)\n    };\n  }\n}\n\nexport class CompileFactoryMetadata implements CompileIdentifierMetadata,\n    CompileMetadataWithIdentifier {\n  runtime: Function;\n  name: string;\n  prefix: string;\n  moduleUrl: string;\n  value: any;\n  diDeps: CompileDiDependencyMetadata[];\n\n  constructor({runtime, name, moduleUrl, prefix, diDeps, value}: {\n    runtime?: Function,\n    name?: string,\n    prefix?: string,\n    moduleUrl?: string,\n    value?: boolean,\n    diDeps?: CompileDiDependencyMetadata[]\n  }) {\n    this.runtime = runtime;\n    this.name = name;\n    this.prefix = prefix;\n    this.moduleUrl = moduleUrl;\n    this.diDeps = _normalizeArray(diDeps);\n    this.value = value;\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this; }\n\n  static fromJson(data: {[key: string]: any}): CompileFactoryMetadata {\n    return new CompileFactoryMetadata({\n      name: data['name'],\n      prefix: data['prefix'],\n      moduleUrl: data['moduleUrl'],\n      value: data['value'],\n      diDeps: _arrayFromJson(data['diDeps'], CompileDiDependencyMetadata.fromJson)\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'Factory',\n      'name': this.name,\n      'prefix': this.prefix,\n      'moduleUrl': this.moduleUrl,\n      'value': this.value,\n      'diDeps': _arrayToJson(this.diDeps)\n    };\n  }\n}\n\nvar UNDEFINED = new Object();\n\nexport class CompileTokenMetadata implements CompileMetadataWithIdentifier {\n  value: any;\n  identifier: CompileIdentifierMetadata;\n  identifierIsInstance: boolean;\n  private _assetCacheKey = UNDEFINED;\n\n  constructor(\n      {value, identifier, identifierIsInstance}:\n          {value?: any, identifier?: CompileIdentifierMetadata, identifierIsInstance?: boolean}) {\n    this.value = value;\n    this.identifier = identifier;\n    this.identifierIsInstance = normalizeBool(identifierIsInstance);\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileTokenMetadata {\n    return new CompileTokenMetadata({\n      value: data['value'],\n      identifier: _objFromJson(data['identifier'], CompileIdentifierMetadata.fromJson),\n      identifierIsInstance: data['identifierIsInstance']\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'value': this.value,\n      'identifier': _objToJson(this.identifier),\n      'identifierIsInstance': this.identifierIsInstance\n    };\n  }\n\n  get runtimeCacheKey(): any {\n    if (isPresent(this.identifier)) {\n      return this.identifier.runtime;\n    } else {\n      return this.value;\n    }\n  }\n\n  get assetCacheKey(): any {\n    if (this._assetCacheKey === UNDEFINED) {\n      if (isPresent(this.identifier)) {\n        if (isPresent(this.identifier.moduleUrl) &&\n            isPresent(getUrlScheme(this.identifier.moduleUrl))) {\n          var uri = reflector.importUri(\n              {'filePath': this.identifier.moduleUrl, 'name': this.identifier.name});\n          this._assetCacheKey = `${this.identifier.name}|${uri}|${this.identifierIsInstance}`;\n        } else {\n          this._assetCacheKey = null;\n        }\n      } else {\n        this._assetCacheKey = this.value;\n      }\n    }\n    return this._assetCacheKey;\n  }\n\n  equalsTo(token2: CompileTokenMetadata): boolean {\n    var rk = this.runtimeCacheKey;\n    var ak = this.assetCacheKey;\n    return (isPresent(rk) && rk == token2.runtimeCacheKey) ||\n        (isPresent(ak) && ak == token2.assetCacheKey);\n  }\n\n  get name(): string {\n    return isPresent(this.value) ? sanitizeIdentifier(this.value) : this.identifier.name;\n  }\n}\n\nexport class CompileTokenMap<VALUE> {\n  private _valueMap = new Map<any, VALUE>();\n  private _values: VALUE[] = [];\n\n  add(token: CompileTokenMetadata, value: VALUE) {\n    var existing = this.get(token);\n    if (isPresent(existing)) {\n      throw new BaseException(`Can only add to a TokenMap! Token: ${token.name}`);\n    }\n    this._values.push(value);\n    var rk = token.runtimeCacheKey;\n    if (isPresent(rk)) {\n      this._valueMap.set(rk, value);\n    }\n    var ak = token.assetCacheKey;\n    if (isPresent(ak)) {\n      this._valueMap.set(ak, value);\n    }\n  }\n  get(token: CompileTokenMetadata): VALUE {\n    var rk = token.runtimeCacheKey;\n    var ak = token.assetCacheKey;\n    var result: VALUE;\n    if (isPresent(rk)) {\n      result = this._valueMap.get(rk);\n    }\n    if (isBlank(result) && isPresent(ak)) {\n      result = this._valueMap.get(ak);\n    }\n    return result;\n  }\n  values(): VALUE[] { return this._values; }\n  get size(): number { return this._values.length; }\n}\n\n/**\n * Metadata regarding compilation of a type.\n */\nexport class CompileTypeMetadata implements CompileIdentifierMetadata, CompileMetadataWithType {\n  runtime: Type;\n  name: string;\n  prefix: string;\n  moduleUrl: string;\n  isHost: boolean;\n  value: any;\n  diDeps: CompileDiDependencyMetadata[];\n\n  constructor({runtime, name, moduleUrl, prefix, isHost, value, diDeps}: {\n    runtime?: Type,\n    name?: string,\n    moduleUrl?: string,\n    prefix?: string,\n    isHost?: boolean,\n    value?: any,\n    diDeps?: CompileDiDependencyMetadata[]\n  } = {}) {\n    this.runtime = runtime;\n    this.name = name;\n    this.moduleUrl = moduleUrl;\n    this.prefix = prefix;\n    this.isHost = normalizeBool(isHost);\n    this.value = value;\n    this.diDeps = _normalizeArray(diDeps);\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileTypeMetadata {\n    return new CompileTypeMetadata({\n      name: data['name'],\n      moduleUrl: data['moduleUrl'],\n      prefix: data['prefix'],\n      isHost: data['isHost'],\n      value: data['value'],\n      diDeps: _arrayFromJson(data['diDeps'], CompileDiDependencyMetadata.fromJson)\n    });\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this; }\n  get type(): CompileTypeMetadata { return this; }\n\n  toJson(): {[key: string]: any} {\n    return {\n      // Note: Runtime type can't be serialized...\n      'class': 'Type',\n      'name': this.name,\n      'moduleUrl': this.moduleUrl,\n      'prefix': this.prefix,\n      'isHost': this.isHost,\n      'value': this.value,\n      'diDeps': _arrayToJson(this.diDeps)\n    };\n  }\n}\n\nexport class CompileQueryMetadata {\n  selectors: Array<CompileTokenMetadata>;\n  descendants: boolean;\n  first: boolean;\n  propertyName: string;\n  read: CompileTokenMetadata;\n\n  constructor({selectors, descendants, first, propertyName, read}: {\n    selectors?: Array<CompileTokenMetadata>,\n    descendants?: boolean,\n    first?: boolean,\n    propertyName?: string,\n    read?: CompileTokenMetadata\n  } = {}) {\n    this.selectors = selectors;\n    this.descendants = normalizeBool(descendants);\n    this.first = normalizeBool(first);\n    this.propertyName = propertyName;\n    this.read = read;\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileQueryMetadata {\n    return new CompileQueryMetadata({\n      selectors: _arrayFromJson(data['selectors'], CompileTokenMetadata.fromJson),\n      descendants: data['descendants'],\n      first: data['first'],\n      propertyName: data['propertyName'],\n      read: _objFromJson(data['read'], CompileTokenMetadata.fromJson)\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'selectors': _arrayToJson(this.selectors),\n      'descendants': this.descendants,\n      'first': this.first,\n      'propertyName': this.propertyName,\n      'read': _objToJson(this.read)\n    };\n  }\n}\n\n/**\n * Metadata about a stylesheet\n */\nexport class CompileStylesheetMetadata {\n  moduleUrl: string;\n  styles: string[];\n  styleUrls: string[];\n  constructor(\n      {moduleUrl, styles,\n       styleUrls}: {moduleUrl?: string, styles?: string[], styleUrls?: string[]} = {}) {\n    this.moduleUrl = moduleUrl;\n    this.styles = _normalizeArray(styles);\n    this.styleUrls = _normalizeArray(styleUrls);\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileStylesheetMetadata {\n    return new CompileStylesheetMetadata(\n        {moduleUrl: data['moduleUrl'], styles: data['styles'], styleUrls: data['styleUrls']});\n  }\n\n  toJson(): {[key: string]: any} {\n    return {'moduleUrl': this.moduleUrl, 'styles': this.styles, 'styleUrls': this.styleUrls};\n  }\n}\n\n/**\n * Metadata regarding compilation of a template.\n */\nexport class CompileTemplateMetadata {\n  encapsulation: ViewEncapsulation;\n  template: string;\n  templateUrl: string;\n  styles: string[];\n  styleUrls: string[];\n  externalStylesheets: CompileStylesheetMetadata[];\n  animations: CompileAnimationEntryMetadata[];\n  ngContentSelectors: string[];\n  interpolation: [string, string];\n  constructor(\n      {encapsulation, template, templateUrl, styles, styleUrls, externalStylesheets, animations,\n       ngContentSelectors, interpolation}: {\n        encapsulation?: ViewEncapsulation,\n        template?: string,\n        templateUrl?: string,\n        styles?: string[],\n        styleUrls?: string[],\n        externalStylesheets?: CompileStylesheetMetadata[],\n        ngContentSelectors?: string[],\n        animations?: CompileAnimationEntryMetadata[],\n        interpolation?: [string, string]\n      } = {}) {\n    this.encapsulation = encapsulation;\n    this.template = template;\n    this.templateUrl = templateUrl;\n    this.styles = _normalizeArray(styles);\n    this.styleUrls = _normalizeArray(styleUrls);\n    this.externalStylesheets = _normalizeArray(externalStylesheets);\n    this.animations = isPresent(animations) ? ListWrapper.flatten(animations) : [];\n    this.ngContentSelectors = isPresent(ngContentSelectors) ? ngContentSelectors : [];\n    if (isPresent(interpolation) && interpolation.length != 2) {\n      throw new BaseException(`'interpolation' should have a start and an end symbol.`);\n    }\n    this.interpolation = interpolation;\n  }\n\n  static fromJson(data: {[key: string]: any}): CompileTemplateMetadata {\n    var animations =\n        <CompileAnimationEntryMetadata[]>_arrayFromJson(data['animations'], metadataFromJson);\n    return new CompileTemplateMetadata({\n      encapsulation: isPresent(data['encapsulation']) ?\n          VIEW_ENCAPSULATION_VALUES[data['encapsulation']] :\n          data['encapsulation'],\n      template: data['template'],\n      templateUrl: data['templateUrl'],\n      styles: data['styles'],\n      styleUrls: data['styleUrls'],\n      externalStylesheets:\n          _arrayFromJson(data['externalStylesheets'], CompileStylesheetMetadata.fromJson),\n      animations: animations,\n      ngContentSelectors: data['ngContentSelectors'],\n      interpolation: data['interpolation']\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'encapsulation': isPresent(this.encapsulation) ? serializeEnum(this.encapsulation) :\n                                                       this.encapsulation,\n      'template': this.template,\n      'templateUrl': this.templateUrl,\n      'styles': this.styles,\n      'styleUrls': this.styleUrls,\n      'externalStylesheets': _objToJson(this.externalStylesheets),\n      'animations': _objToJson(this.animations),\n      'ngContentSelectors': this.ngContentSelectors,\n      'interpolation': this.interpolation\n    };\n  }\n}\n\n/**\n * Metadata regarding compilation of a directive.\n */\nexport class CompileDirectiveMetadata implements CompileMetadataWithType {\n  static create(\n      {type, isComponent, selector, exportAs, changeDetection, inputs, outputs, host,\n       lifecycleHooks, providers, viewProviders, queries, viewQueries, precompile, template}: {\n        type?: CompileTypeMetadata,\n        isComponent?: boolean,\n        selector?: string,\n        exportAs?: string,\n        changeDetection?: ChangeDetectionStrategy,\n        inputs?: string[],\n        outputs?: string[],\n        host?: {[key: string]: string},\n        lifecycleHooks?: LifecycleHooks[],\n        providers?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        viewProviders?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        queries?: CompileQueryMetadata[],\n        viewQueries?: CompileQueryMetadata[],\n        precompile?: CompileTypeMetadata[],\n        template?: CompileTemplateMetadata\n      } = {}): CompileDirectiveMetadata {\n    var hostListeners: {[key: string]: string} = {};\n    var hostProperties: {[key: string]: string} = {};\n    var hostAttributes: {[key: string]: string} = {};\n    if (isPresent(host)) {\n      StringMapWrapper.forEach(host, (value: string, key: string) => {\n        var matches = RegExpWrapper.firstMatch(HOST_REG_EXP, key);\n        if (isBlank(matches)) {\n          hostAttributes[key] = value;\n        } else if (isPresent(matches[1])) {\n          hostProperties[matches[1]] = value;\n        } else if (isPresent(matches[2])) {\n          hostListeners[matches[2]] = value;\n        }\n      });\n    }\n    var inputsMap: {[key: string]: string} = {};\n    if (isPresent(inputs)) {\n      inputs.forEach((bindConfig: string) => {\n        // canonical syntax: `dirProp: elProp`\n        // if there is no `:`, use dirProp = elProp\n        var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n        inputsMap[parts[0]] = parts[1];\n      });\n    }\n    var outputsMap: {[key: string]: string} = {};\n    if (isPresent(outputs)) {\n      outputs.forEach((bindConfig: string) => {\n        // canonical syntax: `dirProp: elProp`\n        // if there is no `:`, use dirProp = elProp\n        var parts = splitAtColon(bindConfig, [bindConfig, bindConfig]);\n        outputsMap[parts[0]] = parts[1];\n      });\n    }\n\n    return new CompileDirectiveMetadata({\n      type: type,\n      isComponent: normalizeBool(isComponent),\n      selector: selector,\n      exportAs: exportAs,\n      changeDetection: changeDetection,\n      inputs: inputsMap,\n      outputs: outputsMap,\n      hostListeners: hostListeners,\n      hostProperties: hostProperties,\n      hostAttributes: hostAttributes,\n      lifecycleHooks: isPresent(lifecycleHooks) ? lifecycleHooks : [],\n      providers: providers,\n      viewProviders: viewProviders,\n      queries: queries,\n      viewQueries: viewQueries,\n      precompile: precompile,\n      template: template\n    });\n  }\n  type: CompileTypeMetadata;\n  isComponent: boolean;\n  selector: string;\n  exportAs: string;\n  changeDetection: ChangeDetectionStrategy;\n  inputs: {[key: string]: string};\n  outputs: {[key: string]: string};\n  hostListeners: {[key: string]: string};\n  hostProperties: {[key: string]: string};\n  hostAttributes: {[key: string]: string};\n  lifecycleHooks: LifecycleHooks[];\n  providers: CompileProviderMetadata[];\n  viewProviders: CompileProviderMetadata[];\n  queries: CompileQueryMetadata[];\n  viewQueries: CompileQueryMetadata[];\n  precompile: CompileTypeMetadata[];\n\n  template: CompileTemplateMetadata;\n  constructor(\n      {type, isComponent, selector, exportAs, changeDetection, inputs, outputs, hostListeners,\n       hostProperties, hostAttributes, lifecycleHooks, providers, viewProviders, queries,\n       viewQueries, precompile, template}: {\n        type?: CompileTypeMetadata,\n        isComponent?: boolean,\n        selector?: string,\n        exportAs?: string,\n        changeDetection?: ChangeDetectionStrategy,\n        inputs?: {[key: string]: string},\n        outputs?: {[key: string]: string},\n        hostListeners?: {[key: string]: string},\n        hostProperties?: {[key: string]: string},\n        hostAttributes?: {[key: string]: string},\n        lifecycleHooks?: LifecycleHooks[],\n        providers?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        viewProviders?:\n            Array<CompileProviderMetadata|CompileTypeMetadata|CompileIdentifierMetadata|any[]>,\n        queries?: CompileQueryMetadata[],\n        viewQueries?: CompileQueryMetadata[],\n        precompile?: CompileTypeMetadata[],\n        template?: CompileTemplateMetadata\n      } = {}) {\n    this.type = type;\n    this.isComponent = isComponent;\n    this.selector = selector;\n    this.exportAs = exportAs;\n    this.changeDetection = changeDetection;\n    this.inputs = inputs;\n    this.outputs = outputs;\n    this.hostListeners = hostListeners;\n    this.hostProperties = hostProperties;\n    this.hostAttributes = hostAttributes;\n    this.lifecycleHooks = _normalizeArray(lifecycleHooks);\n    this.providers = _normalizeArray(providers);\n    this.viewProviders = _normalizeArray(viewProviders);\n    this.queries = _normalizeArray(queries);\n    this.viewQueries = _normalizeArray(viewQueries);\n    this.precompile = _normalizeArray(precompile);\n    this.template = template;\n  }\n\n  get identifier(): CompileIdentifierMetadata { return this.type; }\n\n  static fromJson(data: {[key: string]: any}): CompileDirectiveMetadata {\n    return new CompileDirectiveMetadata({\n      isComponent: data['isComponent'],\n      selector: data['selector'],\n      exportAs: data['exportAs'],\n      type: isPresent(data['type']) ? CompileTypeMetadata.fromJson(data['type']) : data['type'],\n      changeDetection: isPresent(data['changeDetection']) ?\n          CHANGE_DETECTION_STRATEGY_VALUES[data['changeDetection']] :\n          data['changeDetection'],\n      inputs: data['inputs'],\n      outputs: data['outputs'],\n      hostListeners: data['hostListeners'],\n      hostProperties: data['hostProperties'],\n      hostAttributes: data['hostAttributes'],\n      lifecycleHooks:\n          (<any[]>data['lifecycleHooks']).map(hookValue => LIFECYCLE_HOOKS_VALUES[hookValue]),\n      template: isPresent(data['template']) ? CompileTemplateMetadata.fromJson(data['template']) :\n                                              data['template'],\n      providers: _arrayFromJson(data['providers'], metadataFromJson),\n      viewProviders: _arrayFromJson(data['viewProviders'], metadataFromJson),\n      queries: _arrayFromJson(data['queries'], CompileQueryMetadata.fromJson),\n      viewQueries: _arrayFromJson(data['viewQueries'], CompileQueryMetadata.fromJson),\n      precompile: _arrayFromJson(data['precompile'], CompileTypeMetadata.fromJson)\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'Directive',\n      'isComponent': this.isComponent,\n      'selector': this.selector,\n      'exportAs': this.exportAs,\n      'type': isPresent(this.type) ? this.type.toJson() : this.type,\n      'changeDetection': isPresent(this.changeDetection) ? serializeEnum(this.changeDetection) :\n                                                           this.changeDetection,\n      'inputs': this.inputs,\n      'outputs': this.outputs,\n      'hostListeners': this.hostListeners,\n      'hostProperties': this.hostProperties,\n      'hostAttributes': this.hostAttributes,\n      'lifecycleHooks': this.lifecycleHooks.map(hook => serializeEnum(hook)),\n      'template': isPresent(this.template) ? this.template.toJson() : this.template,\n      'providers': _arrayToJson(this.providers),\n      'viewProviders': _arrayToJson(this.viewProviders),\n      'queries': _arrayToJson(this.queries),\n      'viewQueries': _arrayToJson(this.viewQueries),\n      'precompile': _arrayToJson(this.precompile)\n    };\n  }\n}\n\n/**\n * Construct {@link CompileDirectiveMetadata} from {@link ComponentTypeMetadata} and a selector.\n */\nexport function createHostComponentMeta(\n    componentType: CompileTypeMetadata, componentSelector: string): CompileDirectiveMetadata {\n  var template = CssSelector.parse(componentSelector)[0].getMatchingElementTemplate();\n  return CompileDirectiveMetadata.create({\n    type: new CompileTypeMetadata({\n      runtime: Object,\n      name: `${componentType.name}_Host`,\n      moduleUrl: componentType.moduleUrl,\n      isHost: true\n    }),\n    template: new CompileTemplateMetadata({\n      template: template,\n      templateUrl: '',\n      styles: [],\n      styleUrls: [],\n      ngContentSelectors: [],\n      animations: []\n    }),\n    changeDetection: ChangeDetectionStrategy.Default,\n    inputs: [],\n    outputs: [],\n    host: {},\n    lifecycleHooks: [],\n    isComponent: true,\n    selector: '*',\n    providers: [],\n    viewProviders: [],\n    queries: [],\n    viewQueries: []\n  });\n}\n\n\nexport class CompilePipeMetadata implements CompileMetadataWithType {\n  type: CompileTypeMetadata;\n  name: string;\n  pure: boolean;\n  lifecycleHooks: LifecycleHooks[];\n\n  constructor({type, name, pure, lifecycleHooks}: {\n    type?: CompileTypeMetadata,\n    name?: string,\n    pure?: boolean,\n    lifecycleHooks?: LifecycleHooks[]\n  } = {}) {\n    this.type = type;\n    this.name = name;\n    this.pure = normalizeBool(pure);\n    this.lifecycleHooks = _normalizeArray(lifecycleHooks);\n  }\n  get identifier(): CompileIdentifierMetadata { return this.type; }\n\n  static fromJson(data: {[key: string]: any}): CompilePipeMetadata {\n    return new CompilePipeMetadata({\n      type: isPresent(data['type']) ? CompileTypeMetadata.fromJson(data['type']) : data['type'],\n      name: data['name'],\n      pure: data['pure']\n    });\n  }\n\n  toJson(): {[key: string]: any} {\n    return {\n      'class': 'Pipe',\n      'type': isPresent(this.type) ? this.type.toJson() : null,\n      'name': this.name,\n      'pure': this.pure\n    };\n  }\n}\n\nvar _COMPILE_METADATA_FROM_JSON = {\n  'Directive': CompileDirectiveMetadata.fromJson,\n  'Pipe': CompilePipeMetadata.fromJson,\n  'Type': CompileTypeMetadata.fromJson,\n  'Provider': CompileProviderMetadata.fromJson,\n  'Identifier': CompileIdentifierMetadata.fromJson,\n  'Factory': CompileFactoryMetadata.fromJson,\n  'AnimationEntryMetadata': CompileAnimationEntryMetadata.fromJson,\n  'AnimationStateDeclarationMetadata': CompileAnimationStateDeclarationMetadata.fromJson,\n  'AnimationStateTransitionMetadata': CompileAnimationStateTransitionMetadata.fromJson,\n  'AnimationSequenceMetadata': CompileAnimationSequenceMetadata.fromJson,\n  'AnimationGroupMetadata': CompileAnimationGroupMetadata.fromJson,\n  'AnimationAnimateMetadata': CompileAnimationAnimateMetadata.fromJson,\n  'AnimationStyleMetadata': CompileAnimationStyleMetadata.fromJson,\n  'AnimationKeyframesSequenceMetadata': CompileAnimationKeyframesSequenceMetadata.fromJson\n};\n\nfunction _arrayFromJson(obj: any[], fn: (a: {[key: string]: any}) => any): any {\n  return isBlank(obj) ? null : obj.map(o => _objFromJson(o, fn));\n}\n\nfunction _arrayToJson(obj: any[]): string|{[key: string]: any} {\n  return isBlank(obj) ? null : obj.map(_objToJson);\n}\n\nfunction _objFromJson(obj: any, fn: (a: {[key: string]: any}) => any): any {\n  if (isArray(obj)) return _arrayFromJson(obj, fn);\n  if (isString(obj) || isBlank(obj) || isBoolean(obj) || isNumber(obj)) return obj;\n  return fn(obj);\n}\n\nfunction _objToJson(obj: any): string|{[key: string]: any} {\n  if (isArray(obj)) return _arrayToJson(obj);\n  if (isString(obj) || isBlank(obj) || isBoolean(obj) || isNumber(obj)) return obj;\n  return obj.toJson();\n}\n\nfunction _normalizeArray(obj: any[]): any[] {\n  return isPresent(obj) ? obj : [];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}