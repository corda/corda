{"version":3,"file":"promise.js","sourceRoot":"","sources":["../../../../../../modules/@angular/forms/src/facade/promise.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAGH;IAKE;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG;YAClC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;AACH,CAAC;AAED;IACE,OAAO,OAAO,CAAI,GAAM,IAAgB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAEtE,OAAO,MAAM,CAAC,GAAQ,EAAE,CAAM,IAAkB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAE7E,yEAAyE;IACzE,uBAAuB;IACvB,OAAO,UAAU,CAAI,OAAmB,EAAE,OAA2C;QAEnF,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC;IAED,OAAO,GAAG,CAAI,QAA0B;QACtC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC;YAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACrD,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAED,OAAO,IAAI,CACP,OAAmB,EAAE,OAAyC,EAC9D,SAA2D;QAC7D,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAC1C,CAAC;IAED,OAAO,IAAI,CAAI,WAAoB;QACjC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG;YAC1B,IAAI,CAAC;gBACH,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YACrB,CAAE;YAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACX,GAAG,CAAC,CAAC,CAAC,CAAC;YACT,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO,iBAAiB,CAAC,WAAsB;QAC7C,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC;IAC5E,CAAC;IAED,OAAO,SAAS,KAA6B,MAAM,CAAC,IAAI,gBAAgB,EAAK,CAAC,CAAC,CAAC;AAClF,CAAC;AAAA","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nexport class PromiseCompleter<R> {\n  promise: Promise<R>;\n  resolve: (value?: R|PromiseLike<R>) => void;\n  reject: (error?: any, stackTrace?: string) => void;\n\n  constructor() {\n    this.promise = new Promise((res, rej) => {\n      this.resolve = res;\n      this.reject = rej;\n    });\n  }\n}\n\nexport class PromiseWrapper {\n  static resolve<T>(obj: T): Promise<T> { return Promise.resolve(obj); }\n\n  static reject(obj: any, _: any): Promise<any> { return Promise.reject(obj); }\n\n  // Note: We can't rename this method into `catch`, as this is not a valid\n  // method name in Dart.\n  static catchError<T>(promise: Promise<T>, onError: (error: any) => T | PromiseLike<T>):\n      Promise<T> {\n    return promise.catch(onError);\n  }\n\n  static all<T>(promises: (T|Promise<T>)[]): Promise<T[]> {\n    if (promises.length == 0) return Promise.resolve([]);\n    return Promise.all(promises);\n  }\n\n  static then<T, U>(\n      promise: Promise<T>, success: (value: T) => U | PromiseLike<U>,\n      rejection?: (error: any, stack?: any) => U | PromiseLike<U>): Promise<U> {\n    return promise.then(success, rejection);\n  }\n\n  static wrap<T>(computation: () => T): Promise<T> {\n    return new Promise((res, rej) => {\n      try {\n        res(computation());\n      } catch (e) {\n        rej(e);\n      }\n    });\n  }\n\n  static scheduleMicrotask(computation: () => any): void {\n    PromiseWrapper.then(PromiseWrapper.resolve(null), computation, (_) => {});\n  }\n\n  static completer<T>(): PromiseCompleter<T> { return new PromiseCompleter<T>(); }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}