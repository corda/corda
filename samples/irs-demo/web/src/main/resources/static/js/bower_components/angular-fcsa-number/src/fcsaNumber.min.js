/*! angular-fcsa-number (version 1.5.3) 2014-10-17 */
(function(){var a,b={}.hasOwnProperty;a=angular.module("fcsa-number",[]),a.directive("fcsaNumber",["fcsaNumberConfig",function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o;return e=a.defaultOptions,f=function(a){var c,d,f,g;if(d=angular.copy(e),null!=a.options){g=a.$eval(a.options);for(c in g)b.call(g,c)&&(f=g[c],d[c]=f)}return d},j=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},i=function(a){return 44>a||a>57||47===a},d=[0,8,13],h=function(a){return-1===d.indexOf(a)},g=function(a){return null!=a&&a.toString().split(".").length>2},l=function(a){var b,c;return b=a>0?"^-?\\d*\\.?\\d{0,"+a+"}$":"^-?\\d*$",c=new RegExp(b),function(a){return c.test(a)}},n=function(a){return function(b,c){return a>=c}},o=function(a){return function(b,c){return c>=a}},m=function(a){var b;return b=new RegExp("^-?\\d{0,"+a+"}(\\.\\d*)?$"),function(a){return b.test(a)}},k=function(a){var b;return b=[],null!=a.maxDecimals&&b.push(l(a.maxDecimals)),null!=a.max&&b.push(n(a.max)),null!=a.min&&b.push(o(a.min)),null!=a.maxDigits&&b.push(m(a.maxDigits)),function(a){var c,d,e,f;if(!j(a))return!1;if(g(a))return!1;for(d=Number(a),c=e=0,f=b.length;f>=0?f>e:e>f;c=f>=0?++e:--e)if(!b[c](a,d))return!1;return!0}},c=function(a){var b,c,d;return c=-1==a.indexOf(".")?"":a.replace(/^-?\d+(?=\.)/,""),d=a.replace(/(\.\d+)$/,""),b=d.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),""+b+c},{restrict:"A",require:"ngModel",scope:{options:"@fcsaNumber"},link:function(a,b,d,e){var g,j;return j=f(a),g=k(j),e.$parsers.unshift(function(a){var b;return b=a.replace(/,/g,""),g(b)||!b?(e.$setValidity("fcsaNumber",!0),b):void e.$setValidity("fcsaNumber",!1)}),e.$formatters.push(function(a){return null==j.nullDisplay||a&&""!==a?null!=a&&g(a)?(e.$setValidity("fcsaNumber",!0),a=c(a.toString()),null!=j.prepend&&(a=""+j.prepend+a),null!=j.append&&(a=""+a+j.append),a):a:j.nullDisplay}),b.on("blur",function(){var a,b,c,d,f;if(b=e.$modelValue,null!=b&&g(b)){for(f=e.$formatters,c=0,d=f.length;d>c;c++)a=f[c],b=a(b);return e.$viewValue=b,e.$render()}}),b.on("focus",function(){var a;return a=b.val(),null!=j.prepend&&(a=a.replace(j.prepend,"")),null!=j.append&&(a=a.replace(j.append,"")),b.val(a.replace(/,/g,"")),b[0].select()}),j.preventInvalidInput===!0?b.on("keypress",function(a){return i(a.which)&&h(a.which)?a.preventDefault():void 0}):void 0}}}]),a.provider("fcsaNumberConfig",function(){var a;a={},this.setDefaultOptions=function(b){return a=b},this.$get=function(){return{defaultOptions:a}}})}).call(this);